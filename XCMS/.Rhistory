library(xcms)
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("xcms")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("MSnbase")
library(xcms)
library(xcms)
library(xcms)
library(xcms)
f.in <- list.files(pattern = '.(mz[X]{0,1}ML|cdf)', recursive = TRUE)
xset <- xcms::xcmsSet(f.in, method = "centWave", ppm = 25,
snthr = 10, peakwidth = c(5, 50), mzdiff = 0.01,
nSlaves = 12)
##retention time correction
pdf('rector-obiwarp.pdf')
xsetc <-  xcms::retcor(xset, method = "obiwarp", plottype = "deviation",
profStep = 0.1)
dev.off()
peak <- xset@peaks
write.csv(peak, "Peak-table.csv", row.names = FALSE)
library(xcms)
f.in <- list.files(pattern = '.(mz[X]{0,1}ML|cdf)', recursive = TRUE)
library(xcms)
mz <- collect(f.in, snthresh = 10)
mz <- collect(f.in[0], snthresh = 10)
mz <- collect(f.in[1], snthresh = 10)
xset <- xcms::xcmsSet(f.in, method = "centWave", ppm = 25,
snthr = 10, peakwidth = c(5, 50), mzdiff = 0.01,
nSlaves = 12)
View(xset)
View(xset)
xset@groups
xset@phenoData
xset@rt
xset@proinfo
xset@profinfo
xset@peaks
f.in[1]
f1 <- xcmsRaw(f.in[1], profstep = 0.01, profmethod = "bin", profparam = list(),
includeMSn=FALSE, mslevel=NULL, scanrange=NULL)
View(f1)
View(f1)
f1@tic
findPeaks(f1)
